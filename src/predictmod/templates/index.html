{% extends "_layout.html" %}
{% block content %}

<div class="container" style="margin-top: 10px">
  <div class="row align-items-center">
    <div class="col-lg-12">
      {% with messages = get_flashed_messages() %}
          {% if messages %}
            {% for message in messages %}
              {% if 'Error' in message %}
                <div class="alert alert-danger alert-dismissible col" role="alert">{{ message }}
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              {% else %}
                <div class="alert alert-info alert-dismissible col" role="alert">{{ message }}
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              {% endif %}
            {% endfor %}
          {% endif %}
        {% endwith %}
      </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
          <div class="card-header">
            Datasets available
          </div>
          <div class="card-block">
            <table class="table">
              <thead>
                <tr>
                  <th>
                    Name
                  </th>
                  <th>
                    Size
                  </th>
                  <th>
                    MIME
                  </th>
                  <th>
                    Download
                  </th>
                </tr>
              </thead>
              <tbody>
                {% for file in files %}
                  <tr>
                    <td>
                      <i class="fa fa-file-o"></i> {{ file.name }}
                    </td>
                    <td>
                      {{ file.size }}
                    </td>
                    <td>
                      <span class="label label-primary">{{ file.mime }}</span>
                    </td>
                    <td>
                      <a href="download/{{ file.fullname|urlencode }}" class="label label-success"><i class="fa fa-download"></i> Download</a>
                    </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
    </div>
  </div>
</div>

{% endblock %}